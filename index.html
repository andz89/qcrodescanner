<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Grade 4 Modules</title>
    <script src="html5-qrcode.js"></script>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div>
      <button id="scanBtn">Scanner</button>
     
      <div class="scanner">
      <div id="reader" ></div>
      </div>

      <div class="textarea">
        <textarea id="result" class="copytext" readonly></textarea>
      </div>
     
      <div>
        <iframe src="https://script.google.com/macros/s/AKfycbz72Vh2BCayWmDHTfIvQ_G8HUYQIPELtnaYKN79dL9VQX27_H6v_1f9_rJWz3zqFOEQ/exec" width="100%" height="2000px" style="border:none;" allow="clipboard-read; clipboard-write"></iframe>
      </div>

    </div>
    <script type="text/javascript">

      let scanBtn = document.querySelector('#scanBtn')
      scanBtn.addEventListener('click', ()=>{
        let scanner = document.querySelector('.scanner')
        scanner.classList.toggle('toggle')
        
      })

      //  <div>
      //   <input type="text" id="qr_code">
      //   <img id="qr_image" src="" width="500" height="500"alt="">
      // </div> 
      // let qr_code = document.querySelector('#qr_code')
      
      // qr_code.addEventListener('input', (e)=>{
      //   let img = document.querySelector('#qr_image')
      //   img.src =`https://chart.googleapis.com/chart?cht=qr&chs=500x500&chl=${e.target.value}`

      //   document.body.appendChild(img)
      // })
  


      function onScanSuccess(qrCodeMessage) {
             let copyText = document.querySelector("#result");
        document.getElementById("result").innerHTML = qrCodeMessage;
        navigator.clipboard.writeText(`${copyText.value}`);
        // html5QrcodeScanner.clear();
      }

 
      function onScanError(errorMessage) {
        //handle scan error
      }
      var html5QrcodeScanner = new Html5QrcodeScanner("reader", {
        fps: 10,
        qrbox: 250,
      });
      html5QrcodeScanner.render(onScanSuccess, onScanError);

  


    </script>
  </body>
</html>
